---
import { Img } from "astro-imagetools/components";

import Layout from '../layouts/Layout.astro';
import Navbar from '../components/Navbar.astro';
import Container from '../components/Container.astro';

const response = await fetch('https://rickandmortyapi.com/api/character', {
  method: 'GET',
  headers: {
    'Content-Type': 'application/json',
  },
});
const { results } = await response.json();
console.log('CHARACTERS:', results);

---

<Layout title="Welcome to Astro.">
	<main>
    <Container>
      <Navbar />
      <p class="mt-96">Lorem, ipsum dolor sit amet consectetur adipisicing elit. Ab officia deserunt quidem explicabo nobis praesentium ipsum unde temporibus nihil aperiam debitis laborum provident numquam, sit deleniti iure! Ex, a ipsum.</p>
      <h2>Main characters</h2>
      {
        results.map(({name, image}: {name: string, image: string}) => {
          return (
            <div>
              <p>{name}</p>
              <Img src={image} alt={name} width={300} height={300} placeholder="blurred" loading="lazy" />
            </div>
          )
        })
      }
      <p class="mt-96">Lorem, ipsum dolor sit amet consectetur adipisicing elit. Ab officia deserunt quidem explicabo nobis praesentium ipsum unde temporibus nihil aperiam debitis laborum provident numquam, sit deleniti iure! Ex, a ipsum.</p>
    </Container>
	</main>
</Layout>
